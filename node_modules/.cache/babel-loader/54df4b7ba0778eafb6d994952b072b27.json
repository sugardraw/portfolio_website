{"ast":null,"code":"import * as THREE from 'three';\nimport alphaTexture from '../../../assets/textures/stripes_gradient.jpg';\nvar subjectGeometry0 = deformGeometry(new THREE.BoxGeometry(50, 50));\nvar subjectGeometry1 = deformGeometry(new THREE.BoxGeometry(50, 50));\nvar subjectGeometry2 = deformGeometry(new THREE.BoxGeometry(50, 50));\nvar subjectGeometry3 = deformGeometry(new THREE.BoxGeometry(50, 50));\nexport default (function (scene, geometry) {\n  var group = new THREE.Group();\n  var subjectGeometry = deformGeometry(new THREE.BoxGeometry(50, 50));\n  var subjectMaterial = new THREE.MeshStandardMaterial({\n    color: \"#000\",\n    transparent: true,\n    side: THREE.DoubleSide,\n    alphaTest: 0.5\n  });\n  subjectMaterial.alphaMap = new THREE.TextureLoader().load(alphaTexture);\n  subjectMaterial.alphaMap.magFilter = THREE.NearestFilter;\n  subjectMaterial.alphaMap.wrapT = THREE.RepeatWrapping;\n  subjectMaterial.alphaMap.repeat.y = 1;\n  var subjectMesh = new THREE.Mesh(subjectGeometry, subjectMaterial);\n  var subjectWireframe = new THREE.LineSegments(new THREE.EdgesGeometry(subjectGeometry), new THREE.LineBasicMaterial());\n  group.add(subjectMesh);\n  group.add(subjectWireframe);\n  scene.add(group);\n  group.rotation.z = 6 * Math.PI;\n  var speed = 0.02;\n  var textureOffsetSpeed = 0.02;\n\n  function deformGeometry(geometry) {\n    for (var i = 0; i < geometry.vertices.length; i += 2) {\n      var scalar = 1 + Math.random() * 0.8;\n      geometry.vertices[i].multiplyScalar(scalar);\n    }\n\n    return geometry;\n  }\n\n  function update(time) {\n    var angle = time * speed;\n    group.rotation.y = angle;\n    subjectMaterial.alphaMap.offset.y = 0.55 + time * textureOffsetSpeed;\n    subjectWireframe.material.color.setHSL(Math.sin(angle * 2), 0.5, 0.5);\n    var scale = (Math.sin(angle * 8) + 6.4) / 5;\n    subjectWireframe.scale.set(scale, scale, scale);\n  }\n\n  return {\n    update: update\n  };\n});","map":{"version":3,"sources":["/var/www/html/learning-react/react-threeJS/src/components/header/threejs/SceneSubject.js"],"names":["THREE","alphaTexture","subjectGeometry0","deformGeometry","BoxGeometry","subjectGeometry1","subjectGeometry2","subjectGeometry3","scene","geometry","group","Group","subjectGeometry","subjectMaterial","MeshStandardMaterial","color","transparent","side","DoubleSide","alphaTest","alphaMap","TextureLoader","load","magFilter","NearestFilter","wrapT","RepeatWrapping","repeat","y","subjectMesh","Mesh","subjectWireframe","LineSegments","EdgesGeometry","LineBasicMaterial","add","rotation","z","Math","PI","speed","textureOffsetSpeed","i","vertices","length","scalar","random","multiplyScalar","update","time","angle","offset","material","setHSL","sin","scale","set"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,YAAP,MAAyB,+CAAzB;AAGA,IAAMC,gBAAgB,GAAGC,cAAc,CAAC,IAAIH,KAAK,CAACI,WAAV,CAAsB,EAAtB,EAAyB,EAAzB,CAAD,CAAvC;AACA,IAAMC,gBAAgB,GAAGF,cAAc,CAAC,IAAIH,KAAK,CAACI,WAAV,CAAsB,EAAtB,EAAyB,EAAzB,CAAD,CAAvC;AACA,IAAME,gBAAgB,GAAGH,cAAc,CAAC,IAAIH,KAAK,CAACI,WAAV,CAAsB,EAAtB,EAAyB,EAAzB,CAAD,CAAvC;AACA,IAAMG,gBAAgB,GAAGJ,cAAc,CAAC,IAAIH,KAAK,CAACI,WAAV,CAAsB,EAAtB,EAAyB,EAAzB,CAAD,CAAvC;AAEA,gBAAe,UAACI,KAAD,EAAQC,QAAR,EAAqB;AAChC,MAAMC,KAAK,GAAG,IAAIV,KAAK,CAACW,KAAV,EAAd;AAEA,MAAMC,eAAe,GAAGT,cAAc,CAAC,IAAIH,KAAK,CAACI,WAAV,CAAsB,EAAtB,EAAyB,EAAzB,CAAD,CAAtC;AAGA,MAAMS,eAAe,GAAG,IAAIb,KAAK,CAACc,oBAAV,CAA+B;AAAEC,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,WAAW,EAAE,IAA9B;AAAoCC,IAAAA,IAAI,EAAEjB,KAAK,CAACkB,UAAhD;AAA4DC,IAAAA,SAAS,EAAE;AAAvE,GAA/B,CAAxB;AACAN,EAAAA,eAAe,CAACO,QAAhB,GAA2B,IAAIpB,KAAK,CAACqB,aAAV,GAA0BC,IAA1B,CAA+BrB,YAA/B,CAA3B;AACAY,EAAAA,eAAe,CAACO,QAAhB,CAAyBG,SAAzB,GAAqCvB,KAAK,CAACwB,aAA3C;AACAX,EAAAA,eAAe,CAACO,QAAhB,CAAyBK,KAAzB,GAAiCzB,KAAK,CAAC0B,cAAvC;AACAb,EAAAA,eAAe,CAACO,QAAhB,CAAyBO,MAAzB,CAAgCC,CAAhC,GAAoC,CAApC;AAEA,MAAMC,WAAW,GAAG,IAAI7B,KAAK,CAAC8B,IAAV,CAAelB,eAAf,EAAgCC,eAAhC,CAApB;AAEA,MAAMkB,gBAAgB,GAAG,IAAI/B,KAAK,CAACgC,YAAV,CACrB,IAAIhC,KAAK,CAACiC,aAAV,CAAwBrB,eAAxB,CADqB,EAErB,IAAIZ,KAAK,CAACkC,iBAAV,EAFqB,CAAzB;AAKAxB,EAAAA,KAAK,CAACyB,GAAN,CAAUN,WAAV;AACAnB,EAAAA,KAAK,CAACyB,GAAN,CAAUJ,gBAAV;AACAvB,EAAAA,KAAK,CAAC2B,GAAN,CAAUzB,KAAV;AAEAA,EAAAA,KAAK,CAAC0B,QAAN,CAAeC,CAAf,GAAmB,IAAEC,IAAI,CAACC,EAA1B;AAEA,MAAMC,KAAK,GAAG,IAAd;AACA,MAAMC,kBAAkB,GAAG,IAA3B;;AAEA,WAAStC,cAAT,CAAwBM,QAAxB,EAAkC;AAC9B,SAAK,IAAIiC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACjC,QAAQ,CAACkC,QAAT,CAAkBC,MAAlC,EAA0CF,CAAC,IAAE,CAA7C,EAAgD;AAC5C,UAAMG,MAAM,GAAG,IAAIP,IAAI,CAACQ,MAAL,KAAc,GAAjC;AACArC,MAAAA,QAAQ,CAACkC,QAAT,CAAkBD,CAAlB,EAAqBK,cAArB,CAAoCF,MAApC;AACH;;AAED,WAAOpC,QAAP;AACH;;AAED,WAASuC,MAAT,CAAgBC,IAAhB,EAAsB;AAClB,QAAMC,KAAK,GAAGD,IAAI,GAACT,KAAnB;AAEA9B,IAAAA,KAAK,CAAC0B,QAAN,CAAeR,CAAf,GAAmBsB,KAAnB;AAEArC,IAAAA,eAAe,CAACO,QAAhB,CAAyB+B,MAAzB,CAAgCvB,CAAhC,GAAoC,OAAOqB,IAAI,GAAGR,kBAAlD;AAEAV,IAAAA,gBAAgB,CAACqB,QAAjB,CAA0BrC,KAA1B,CAAgCsC,MAAhC,CAAwCf,IAAI,CAACgB,GAAL,CAASJ,KAAK,GAAC,CAAf,CAAxC,EAA2D,GAA3D,EAAgE,GAAhE;AAEA,QAAMK,KAAK,GAAG,CAACjB,IAAI,CAACgB,GAAL,CAASJ,KAAK,GAAC,CAAf,IAAkB,GAAnB,IAAwB,CAAtC;AACAnB,IAAAA,gBAAgB,CAACwB,KAAjB,CAAuBC,GAAvB,CAA2BD,KAA3B,EAAkCA,KAAlC,EAAyCA,KAAzC;AACH;;AAED,SAAO;AACHP,IAAAA,MAAM,EAANA;AADG,GAAP;AAGH,CArDD","sourcesContent":["import * as THREE from 'three'\nimport alphaTexture from '../../../assets/textures/stripes_gradient.jpg';\n\n\nconst subjectGeometry0 = deformGeometry(new THREE.BoxGeometry(50,50));\nconst subjectGeometry1 = deformGeometry(new THREE.BoxGeometry(50,50));\nconst subjectGeometry2 = deformGeometry(new THREE.BoxGeometry(50,50));\nconst subjectGeometry3 = deformGeometry(new THREE.BoxGeometry(50,50));\n\nexport default (scene, geometry) => {    \n    const group = new THREE.Group();\n    \n    const subjectGeometry = deformGeometry(new THREE.BoxGeometry(50,50));\n \n    \n    const subjectMaterial = new THREE.MeshStandardMaterial({ color: \"#000\", transparent: true, side: THREE.DoubleSide, alphaTest: 0.5 });\n    subjectMaterial.alphaMap = new THREE.TextureLoader().load(alphaTexture);\n    subjectMaterial.alphaMap.magFilter = THREE.NearestFilter;\n    subjectMaterial.alphaMap.wrapT = THREE.RepeatWrapping;\n    subjectMaterial.alphaMap.repeat.y = 1;\n\n    const subjectMesh = new THREE.Mesh(subjectGeometry, subjectMaterial);\n        \n    const subjectWireframe = new THREE.LineSegments(\n        new THREE.EdgesGeometry(subjectGeometry),\n        new THREE.LineBasicMaterial()\n    );\n\n    group.add(subjectMesh);\n    group.add(subjectWireframe);\n    scene.add(group);\n\n    group.rotation.z = 6*Math.PI;\n\n    const speed = 0.02;\n    const textureOffsetSpeed = 0.02;\n\n    function deformGeometry(geometry) {\n        for (let i=0; i<geometry.vertices.length; i+=2) {\n            const scalar = 1 + Math.random()*0.8;\n            geometry.vertices[i].multiplyScalar(scalar)\n        }\n\n        return geometry;\n    }\n\n    function update(time) {\n        const angle = time*speed;\n\n        group.rotation.y = angle;\n\n        subjectMaterial.alphaMap.offset.y = 0.55 + time * textureOffsetSpeed;\n\n        subjectWireframe.material.color.setHSL( Math.sin(angle*2), 0.5, 0.5 );\n        \n        const scale = (Math.sin(angle*8)+6.4)/5;\n        subjectWireframe.scale.set(scale, scale, scale)\n    }\n\n    return {\n        update\n    }\n}"]},"metadata":{},"sourceType":"module"}