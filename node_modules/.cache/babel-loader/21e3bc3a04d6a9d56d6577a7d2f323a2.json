{"ast":null,"code":"import SceneManager from './SceneManager';\nimport React, { Component } from 'react';\nimport * as THREE from \"three\";\nimport * as OBJLoader from \"three-obj-loader\";\nimport model from \"../../assets/models/dummy.obj\";\nOBJLoader(THREE);\nvar loader = new THREE.OBJLoader();\n\nvar loadGeo = function loadGeo() {\n  var loadedModel = null;\n  loader.load( // resource URL\n  model, // called when resource is loaded\n  function (object) {\n    console.log(object);\n  }, // called when loading is in progresses\n  function (xhr) {\n    console.log(xhr.loaded / xhr.total * 100 + \"% loaded\");\n  }, // called when loading has errors\n  function (error) {\n    console.log(\"An error happened\");\n  });\n};\n\nexport default (function (container, geo) {\n  var canvas = createCanvas(document, container);\n  var sceneManager = new SceneManager(canvas, geo);\n  var canvasHalfWidth;\n  var canvasHalfHeight;\n  bindEventListeners();\n  render();\n\n  function createCanvas(document, container) {\n    var canvas = document.createElement('canvas');\n    container.appendChild(canvas);\n    return canvas;\n  }\n\n  function bindEventListeners() {\n    window.onresize = resizeCanvas;\n    window.onmousemove = mouseMove;\n    resizeCanvas();\n  }\n\n  function resizeCanvas() {\n    canvas.style.width = '100%';\n    canvas.style.height = '100%';\n    canvas.width = canvas.offsetWidth;\n    canvas.height = canvas.offsetHeight;\n    canvasHalfWidth = Math.round(canvas.offsetWidth / 2);\n    canvasHalfHeight = Math.round(canvas.offsetHeight / 2);\n    sceneManager.onWindowResize();\n  }\n\n  function mouseMove(_ref) {\n    var screenX = _ref.screenX,\n        screenY = _ref.screenY;\n    sceneManager.onMouseMove(screenX - canvasHalfWidth, screenY - canvasHalfHeight);\n  }\n\n  function render(time) {\n    requestAnimationFrame(render);\n    sceneManager.update();\n  }\n});","map":{"version":3,"sources":["/var/www/html/learning-react/react-threeJS/src/components/canvas/threejs/threeEntryPoint.js"],"names":["SceneManager","React","Component","THREE","OBJLoader","model","loader","loadGeo","loadedModel","load","object","console","log","xhr","loaded","total","error","container","geo","canvas","createCanvas","document","sceneManager","canvasHalfWidth","canvasHalfHeight","bindEventListeners","render","createElement","appendChild","window","onresize","resizeCanvas","onmousemove","mouseMove","style","width","height","offsetWidth","offsetHeight","Math","round","onWindowResize","screenX","screenY","onMouseMove","time","requestAnimationFrame","update"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,gBAAzB;AACA,OAAOC,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAGA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAEA,OAAO,KAAKC,SAAZ,MAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AAGAD,SAAS,CAACD,KAAD,CAAT;AAEA,IAAMG,MAAM,GAAG,IAAIH,KAAK,CAACC,SAAV,EAAf;;AACA,IAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClB,MAAMC,WAAW,GAAC,IAAlB;AACEF,EAAAA,MAAM,CAACG,IAAP,EACE;AACAJ,EAAAA,KAFF,EAGE;AACA,YAAAK,MAAM,EAAI;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,GANH,EAOE;AACA,YAAAG,GAAG,EAAI;AACLF,IAAAA,OAAO,CAACC,GAAR,CAAaC,GAAG,CAACC,MAAJ,GAAaD,GAAG,CAACE,KAAlB,GAA2B,GAA3B,GAAiC,UAA7C;AACD,GAVH,EAWE;AACA,YAAAC,KAAK,EAAI;AACPL,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,GAdH;AAgBD,CAlBL;;AAoBA,gBAAe,UAACK,SAAD,EAAYC,GAAZ,EAAoB;AAE/B,MAAMC,MAAM,GAAGC,YAAY,CAACC,QAAD,EAAWJ,SAAX,CAA3B;AACA,MAAMK,YAAY,GAAG,IAAItB,YAAJ,CAAiBmB,MAAjB,EAAyBD,GAAzB,CAArB;AAEA,MAAIK,eAAJ;AACA,MAAIC,gBAAJ;AAEAC,EAAAA,kBAAkB;AAClBC,EAAAA,MAAM;;AAEN,WAASN,YAAT,CAAsBC,QAAtB,EAAgCJ,SAAhC,EAA2C;AACvC,QAAME,MAAM,GAAGE,QAAQ,CAACM,aAAT,CAAuB,QAAvB,CAAf;AACAV,IAAAA,SAAS,CAACW,WAAV,CAAsBT,MAAtB;AACA,WAAOA,MAAP;AACH;;AAED,WAASM,kBAAT,GAA8B;AAC1BI,IAAAA,MAAM,CAACC,QAAP,GAAkBC,YAAlB;AACAF,IAAAA,MAAM,CAACG,WAAP,GAAqBC,SAArB;AACAF,IAAAA,YAAY;AACf;;AAED,WAASA,YAAT,GAAwB;AACpBZ,IAAAA,MAAM,CAACe,KAAP,CAAaC,KAAb,GAAqB,MAArB;AACAhB,IAAAA,MAAM,CAACe,KAAP,CAAaE,MAAb,GAAqB,MAArB;AAEAjB,IAAAA,MAAM,CAACgB,KAAP,GAAgBhB,MAAM,CAACkB,WAAvB;AACAlB,IAAAA,MAAM,CAACiB,MAAP,GAAgBjB,MAAM,CAACmB,YAAvB;AAEAf,IAAAA,eAAe,GAAGgB,IAAI,CAACC,KAAL,CAAWrB,MAAM,CAACkB,WAAP,GAAmB,CAA9B,CAAlB;AACAb,IAAAA,gBAAgB,GAAGe,IAAI,CAACC,KAAL,CAAWrB,MAAM,CAACmB,YAAP,GAAoB,CAA/B,CAAnB;AAEAhB,IAAAA,YAAY,CAACmB,cAAb;AACH;;AAED,WAASR,SAAT,OAAuC;AAAA,QAAnBS,OAAmB,QAAnBA,OAAmB;AAAA,QAAVC,OAAU,QAAVA,OAAU;AACnCrB,IAAAA,YAAY,CAACsB,WAAb,CAAyBF,OAAO,GAACnB,eAAjC,EAAkDoB,OAAO,GAACnB,gBAA1D;AACH;;AAED,WAASE,MAAT,CAAgBmB,IAAhB,EAAsB;AAClBC,IAAAA,qBAAqB,CAACpB,MAAD,CAArB;AACAJ,IAAAA,YAAY,CAACyB,MAAb;AACH;AACJ,CA5CD","sourcesContent":["import SceneManager from './SceneManager';\nimport React, {Component} from 'react';\n\n\nimport * as THREE from \"three\";\n\nimport * as OBJLoader from \"three-obj-loader\";\nimport model from \"../../assets/models/dummy.obj\";\n\n\nOBJLoader(THREE);\n\nconst loader = new THREE.OBJLoader();\nconst loadGeo = () => {\n    const loadedModel=null\n      loader.load(\n        // resource URL\n        model,\n        // called when resource is loaded\n        object => {\n         console.log(object)\n        },\n        // called when loading is in progresses\n        xhr => {\n          console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\n        },\n        // called when loading has errors\n        error => {\n          console.log(\"An error happened\");\n        }\n      );\n    };\n\nexport default (container, geo) => {\n\n    const canvas = createCanvas(document, container);\n    const sceneManager = new SceneManager(canvas, geo);\n\n    let canvasHalfWidth;\n    let canvasHalfHeight;\n\n    bindEventListeners();\n    render();\n\n    function createCanvas(document, container) {\n        const canvas = document.createElement('canvas');     \n        container.appendChild(canvas);\n        return canvas;\n    }\n\n    function bindEventListeners() {\n        window.onresize = resizeCanvas;\n        window.onmousemove = mouseMove;\n        resizeCanvas();\t\n    }\n\n    function resizeCanvas() {        \n        canvas.style.width = '100%';\n        canvas.style.height= '100%';\n        \n        canvas.width  = canvas.offsetWidth;\n        canvas.height = canvas.offsetHeight;\n\n        canvasHalfWidth = Math.round(canvas.offsetWidth/2);\n        canvasHalfHeight = Math.round(canvas.offsetHeight/2);\n\n        sceneManager.onWindowResize()\n    }\n\n    function mouseMove({screenX, screenY}) {\n        sceneManager.onMouseMove(screenX-canvasHalfWidth, screenY-canvasHalfHeight);\n    }\n\n    function render(time) {\n        requestAnimationFrame(render);\n        sceneManager.update();\n    }\n}"]},"metadata":{},"sourceType":"module"}